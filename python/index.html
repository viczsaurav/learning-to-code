<!DOCTYPE html>
<html>
<head>
  <title>Python Track</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/pyodide/v0.24.1/full/pyodide.js"></script>
</head>

<body class="bg-gray-900 text-white min-h-screen">

<header class="bg-gray-950 p-4 border-b border-gray-800">
  <div class="max-w-6xl mx-auto flex justify-between">
    <h1 class="font-bold">üêç Python Track</h1>
    <a href="../" class="text-blue-400">‚Üê Home</a>
  </div>
</header>

<main class="max-w-6xl mx-auto p-4 grid md:grid-cols-3 gap-4">

<!-- Lessons -->
<div class="bg-gray-800 p-4 rounded">

  <h2 class="font-semibold mb-3">Lessons</h2>

  <ul class="space-y-2 text-sm">
    <li onclick="load(1)" class="cursor-pointer hover:text-blue-400">1. Basics</li>
    <li onclick="load(2)" class="cursor-pointer hover:text-blue-400">2. Loops</li>
    <li onclick="load(3)" class="cursor-pointer hover:text-blue-400">3. Functions</li>
    <li onclick="load(4)" class="cursor-pointer hover:text-blue-400">4. Lists</li>
    <li onclick="load(5)" class="cursor-pointer hover:text-blue-400">5. DSA Prep</li>
  </ul>

</div>

<!-- Editor -->
<div class="md:col-span-2 bg-gray-800 p-4 rounded">

  <h2 id="title" class="font-semibold mb-2">Select Lesson</h2>

  <textarea id="code"
    class="w-full h-60 bg-black text-green-400 p-2 rounded font-mono text-sm">
print("Hello Python")
  </textarea>

  <div class="flex gap-2 my-2">
    <button onclick="run()" class="bg-blue-600 px-3 py-1 rounded">Run</button>
    <button onclick="mark()" class="bg-green-600 px-3 py-1 rounded">Done</button>
  </div>

  <pre id="out" class="bg-black p-2 rounded h-24 overflow-auto"></pre>

</div>

</main>

<script>

let pyodide;
let done = JSON.parse(localStorage.getItem("py_done")) || [];

async function init(){
  pyodide = await loadPyodide();
}
init();

const lessons = {
  1:{t:"Basics", c:"print('Hello World')"},
  2:{t:"Loops", c:"for i in range(5): print(i)"},
  3:{t:"Functions", c:"def add(a,b): return a+b\nprint(add(2,3))"},
  4:{t:"Lists", c:"a=[1,2,3]\nprint(max(a))"},
  5:{t:"DSA Prep", c:"nums=[2,7,11,15]\nt=9\nm={}\nfor i,n in enumerate(nums):\n if t-n in m: print(m[t-n],i)\n m[n]=i"}
};

function load(n){
  title.textContent = lessons[n].t;
  code.value = lessons[n].c;
}

async function run(){
  try{
    out.textContent = await pyodide.runPythonAsync(code.value) || "OK";
  }catch(e){
    out.textContent = e;
  }
}

function mark(){
  alert(\"Lesson Completed!\");
}

</script>

</body>
</html>
